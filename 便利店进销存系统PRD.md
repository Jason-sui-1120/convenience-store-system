# 便利店进销存系统 产品需求文档 (PRD)

## 1. 项目概述

### 1.1 项目背景
便利店作为零售行业的重要组成部分，面临着商品种类繁多、库存管理复杂、采购计划难以制定等挑战。传统的手工记录方式效率低下，容易出错，急需一套数字化的进销存管理系统来提升运营效率。

### 1.2 项目目标
- 建立完整的商品库存管理体系
- 实现采购、入库、出库的全流程数字化管理
- 提供实时库存监控和预警功能
- 生成各类统计报表，辅助经营决策
- 提升便利店运营效率，降低管理成本

### 1.3 目标用户
- 便利店店长/管理员
- 采购人员
- 库管人员
- 收银员

## 2. 需求调研结果

### 2.1 便利店基本信息
- **规模**: 单店
- **商品种类**: 少于500种
- **当前管理方式**: 手工记录
- **主要痛点**: 库存不准确、采购计划难制定、缺货/积压情况时有发生
- **优先级需求**: 1. 库存实时监控 2. 采购管理 3. 销售统计 4. 供应商管理
- **设备要求**: 电脑网页版
- **数据存储**: 云端数据库，确保数据安全
- **技术偏好**: Vue.js前端 + Supabase PostgreSQL数据库

## 3. 系统功能架构

### 3.1 核心功能模块
```
便利店进销存系统
├── 供应商管理模块
├── 商品&库存管理模块
├── 采购管理模块
├── 入库管理模块
├── 出库管理模块
├── 统计报表模块
└── 系统管理模块
```

### 3.2 数据流程设计
1. **采购流程**: 制定采购计划 → 选择供应商 → 下单采购 → 入库确认 → 库存更新
2. **销售流程**: 商品出库 → 库存扣减 → 销售记录 → 统计分析
3. **库存监控**: 实时库存查询 → 库存预警 → 补货提醒

## 4. 详细功能规格

### 4.1 供应商管理模块

#### 4.1.1 功能描述
管理便利店的供应商信息，建立供应商档案，支持供应商评估和管理。

#### 4.1.2 核心功能
- **供应商档案管理**
  - 供应商基本信息：名称、联系人、联系电话
  - 供货商品类别管理
  - 付款方式设置（现金、转账、月结等）
  - 开票信息管理
  - 创建人和创建时间记录

- **供应商评估**
  - 供货质量评分
  - 交货及时性评估
  - 价格竞争力分析

#### 4.1.3 数据字段
| 字段名 | 类型 | 必填 | 说明 |
|--------|------|------|------|
| 供货商名称 | String | 是 | 供应商公司名称 |
| 联系人 | String | 是 | 主要联系人姓名 |
| 联系电话 | String | 是 | 联系电话号码 |
| 供货商品 | Array | 否 | 可供货的商品类别 |
| 付款方式 | String | 是 | 现金/转账/月结等 |
| 是否开票 | Boolean | 是 | 是否提供发票 |
| 创建人 | String | 是 | 录入人员 |
| 创建时间 | Date | 是 | 录入时间 |

### 4.2 商品&库存管理模块

#### 4.2.1 功能描述
管理便利店所有商品信息和库存状态，提供实时库存监控和预警功能。

#### 4.2.2 核心功能
- **商品档案管理**
  - 商品基本信息维护
  - 商品分类管理（一级品类、二级品类）
  - 商品图片管理
  - 价格体系管理（采购价、零售价）

- **库存实时监控**
  - 实时库存数量显示
  - 入库总量统计
  - 出库总量统计
  - 现有库存计算

- **库存预警系统**
  - 库存预警阈值设置
  - 自动预警提醒
  - 缺货商品统计

#### 4.2.3 数据字段
| 字段名 | 类型 | 必填 | 说明 |
|--------|------|------|------|
| 商品名称 | String | 是 | 商品完整名称 |
| 品牌 | String | 是 | 商品品牌 |
| 品类 | String | 是 | 一级商品分类 |
| 采购价 | Number | 是 | 进货价格 |
| 规格 | String | 是 | 商品规格说明 |
| 单件价格 | Number | 是 | 零售单价 |
| 录入单价 | Number | 是 | 系统录入价格 |
| 图片 | String | 否 | 商品图片URL |
| 关联信息 | String | 否 | 其他关联信息 |
| 创建人 | String | 是 | 录入人员 |
| 入库总量 | Number | 是 | 累计入库数量 |
| 出库总量 | Number | 是 | 累计出库数量 |
| 现有库存 | Number | 是 | 当前库存数量 |
| 库存预警 | Number | 否 | 预警阈值 |

### 4.3 入库管理模块

#### 4.3.1 功能描述
管理商品入库流程，记录入库明细，支持批次管理和入库状态跟踪。

#### 4.3.2 核心功能
- **入库单管理**
  - 入库单创建和编辑
  - 入库状态管理（已下单未送货、已下单未入库、已入库）
  - 批次号管理

- **入库明细记录**
  - 详细的入库商品信息
  - 数量和价格记录
  - 供应商信息关联

- **入库审核流程**
  - 入库单审核
  - 库存自动更新
  - 入库成本核算

#### 4.3.3 数据字段
| 字段名 | 类型 | 必填 | 说明 |
|--------|------|------|------|
| 入库编号 | String | 是 | 系统自动生成 |
| 品牌 | String | 是 | 引用商品管理 |
| 商品名称 | String | 是 | 入库商品名称 |
| 采购数量 | Number | 是 | 入库数量 |
| 总价 | Number | 是 | 采购总金额 |
| 一级品类 | String | 是 | 引用商品管理 |
| 入库状态 | String | 是 | 已下单未送货/已下单未入库/已入库 |
| 采购价 | Number | 是 | 引用商品管理 |
| 规格 | String | 是 | 引用商品管理 |
| 单件价格 | Number | 是 | 引用商品管理 |
| 录入单价 | Number | 是 | 引用商品管理 |
| 录入总价 | Number | 是 | 系统计算 |
| 创建时间 | Date | 是 | 入库时间 |
| 创建人 | String | 是 | 操作人员 |
| 采购批次 | String | 是 | 批次编号 |
| 供应商 | String | 否 | 供应商名称 |

### 4.4 出库管理模块

#### 4.4.1 功能描述
管理商品出库流程，记录销售和其他出库情况，实时更新库存。

#### 4.4.2 核心功能
- **出库单管理**
  - 销售出库单创建
  - 其他出库单管理（损耗、调拨等）
  - 出库审核流程

- **出库明细记录**
  - 出库商品详情
  - 出库数量和金额
  - 出库原因分类

#### 4.4.3 数据字段
| 字段名 | 类型 | 必填 | 说明 |
|--------|------|------|------|
| 出库编号 | String | 是 | 系统自动生成 |
| 出库数量 | Number | 是 | 出库商品数量 |
| 品类 | String | 是 | 商品分类 |
| 创建时间 | Date | 是 | 出库时间 |
| 创建人 | String | 是 | 操作人员 |
| 关联信息 | String | 否 | 关联的库存信息 |

### 4.5 统计报表模块

#### 4.5.1 功能描述
提供各类统计报表，支持数据分析和经营决策。

#### 4.5.2 核心功能
- **入库统计报表**
  - 按采购批次统计
  - 按品牌统计入库情况
  - 按时间段统计入库金额
  - 入库状态分析

- **库存分析报表**
  - 库存周转率分析
  - 滞销商品统计
  - 库存预警报表

- **供应商分析**
  - 供应商采购金额统计
  - 供应商交货及时性分析

#### 4.5.3 统计维度
- 时间维度：日、周、月、季度、年
- 商品维度：品牌、品类、单品
- 供应商维度：供应商、采购批次
- 状态维度：入库状态、库存状态

## 5. 界面原型设计

### 5.1 主要页面布局

#### 5.1.1 系统首页
- **顶部导航栏**: Logo、主要功能模块导航、用户信息
- **侧边栏**: 详细功能菜单，支持折叠
- **主内容区**: 数据概览、快捷操作、待办事项
- **底部**: 版权信息、系统状态

#### 5.1.2 商品管理页面
- **商品列表**: 表格形式展示，支持搜索、筛选、排序
- **操作按钮**: 新增、编辑、删除、批量操作
- **详情面板**: 商品详细信息展示和编辑

#### 5.1.3 库存监控页面
- **库存概览**: 总库存、预警商品数量、库存金额
- **库存列表**: 实时库存数据，支持预警标识
- **图表展示**: 库存趋势图、品类分布图

### 5.2 用户交互流程

#### 5.2.1 商品入库流程
1. 选择供应商 → 2. 添加入库商品 → 3. 填写数量和价格 → 4. 确认入库 → 5. 库存自动更新

#### 5.2.2 库存查询流程
1. 进入库存管理 → 2. 选择查询条件 → 3. 查看库存列表 → 4. 查看详细信息

### 5.3 响应式设计方案
- **桌面端**: 1200px以上，完整功能展示
- **平板端**: 768px-1199px，适配触摸操作
- **移动端**: 768px以下，核心功能优先

## 6. 技术实现方案

### 6.1 技术架构
```
前端层 (Vue.js)
├── 用户界面组件
├── 状态管理 (Vuex)
├── 路由管理 (Vue Router)
└── HTTP客户端 (Axios)

后端层 (Node.js)
├── Web框架 (Express.js)
├── 身份认证 (JWT)
├── 数据验证 (Joi)
└── 日志管理 (Winston)

数据层 (Supabase PostgreSQL)
├── 用户数据
├── 商品数据
├── 库存数据
└── 交易数据
```

### 6.2 核心技术选型

#### 6.2.1 前端技术栈
- **框架**: Vue.js 3.x
- **UI组件库**: Element Plus
- **状态管理**: Pinia
- **构建工具**: Vite
- **样式预处理**: SCSS

#### 6.2.2 数据库技术栈
- **数据库**: Supabase PostgreSQL
- **数据访问**: 直接前端连接
- **实时功能**: Supabase实时订阅
- **身份认证**: Supabase Auth
- **数据备份**: Supabase自动备份

#### 6.2.3 数据库设计
- **数据库**: Supabase PostgreSQL
- **表结构**: 
  - suppliers (供应商)
  - products (商品)
  - supplier_products (供应商商品关联)
  - inbound_records (入库记录)
  - outbound_records (出库记录)
- **索引优化**: 基于查询频率设计复合索引

### 6.3 部署方案
- **前端部署**: Vercel
- **数据库**: Supabase托管
- **SSL证书**: 自动配置
- **监控**: Vercel Analytics + Supabase监控

## 7. 项目实施计划

### 7.1 开发阶段划分

#### 第一阶段：基础功能开发 (4周)
- 用户认证系统
- 商品管理模块
- 基础库存管理
- 系统框架搭建

#### 第二阶段：核心业务开发 (6周)
- 供应商管理模块
- 入库管理模块
- 出库管理模块
- 库存预警系统

#### 第三阶段：统计分析功能 (4周)
- 统计报表模块
- 数据可视化
- 导出功能
- 高级查询

#### 第四阶段：系统优化和测试 (3周)
- 性能优化
- 功能测试
- 用户体验优化
- 部署上线

### 7.2 时间节点安排
- **需求确认**: 1周
- **设计阶段**: 2周
- **开发阶段**: 17周
- **测试阶段**: 2周
- **部署上线**: 1周
- **总计**: 23周

### 7.3 人员配置建议
- **项目经理**: 1人，负责项目协调和进度管理
- **前端开发**: 2人，负责Vue.js前端开发
- **后端开发**: 2人，负责Node.js后端开发
- **UI设计师**: 1人，负责界面设计和用户体验
- **测试工程师**: 1人，负责功能测试和质量保证

## 8. 风险评估与应对

### 8.1 技术风险
- **风险**: 数据库性能瓶颈
- **应对**: 合理设计索引，实施读写分离

### 8.2 业务风险
- **风险**: 用户需求变更
- **应对**: 采用敏捷开发，定期沟通确认

### 8.3 时间风险
- **风险**: 开发进度延期
- **应对**: 合理分配资源，设置里程碑检查点

## 9. 成功标准

### 9.1 功能标准
- 所有核心功能模块正常运行
- 系统响应时间小于2秒
- 数据准确率达到99.9%

### 9.2 用户体验标准
- 用户操作流程简洁明了
- 界面美观，符合现代设计标准
- 移动端适配良好

### 9.3 技术标准
- 系统稳定性达到99.5%
- 支持并发用户数不少于100
- 数据安全性符合行业标准

---

**文档版本**: v1.0  
**最后更新**: 2025年1月  
**文档状态**: 待评审